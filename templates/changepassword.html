<html>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">  
<head>
   <style type="text/css">
	input{
		font-family: Tahoma, Verdana, Arial, sans-serif;
	}
   </style>
</head>
<title>NAS用户更改密码</title>
<body> 
    <table width="100%" height="50" ><tr><td></td></tr></table>
    <table width="800" height="480" align="center" border="0" cellpadding="0" cellspacing="0" style="background:url('images/background.gif') bottom">
	<tr><td height="55">
      	<table width="100%" height="54"><tr><td width="100%" style="background:url('images/newlogo.gif') no-repeat top right" ></td></tr></table>
	    <table width="100%" height="1" border="0" cellpadding="0" cellspacing="0"><tr><td></td></tr></table>
	    <table width="100%" height="7" border="0" cellpadding="0" cellspacing="0"><tr><td></td></tr></table>
	</td></tr>
  	<tr><td align="center" valign="top">
	    <table width="800"><tr><td width="40" height="165" ></td></tr>
		<tr><table border=0 cellpadding=0 cellspacing=0>
		    <tr><td width="240" height="24" align="center" valign="top" style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:16px;"><b>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp更改密码</b></td></tr>
		    <tr><td width="10" height="20"></td></tr>
   		    <form action="/changepassword" method="post">
		    <tr>
			<td style="font-family:Verdana, Arial, Helvetica, sans-serif;">用户名：</td>
			<td><input type="text" name="username" size="18" value="{{data.username}}" maxlength="12" disabled></td>
			</tr>
            <tr>
			<td><input type="hidden" name="username"size="18" value="{{data.username}}" maxlength="12"></td>
			</tr>
			<tr>
			<td width="10" height="10" ></td>
			</tr>
			<tr>
			<td style="font-family:Verdana, Arial, Helvetica, sans-serif;">旧密码：</td>
    		<td><input type="password" name="oldpassword" id="password" size="18" value="" maxlength="16">
			</td>
			</tr>
            <tr>
			<td style="font-family:Verdana, Arial, Helvetica, sans-serif;">新密码：</td>
    		<td><input type="password" name="newpassword1" id="newpassword1" size="18" value="" maxlength="16" onchange="CheckStrength()">
			</td>
			</tr>
            <tr>
			<td style="font-family:Verdana, Arial, Helvetica, sans-serif;">新密码：</td>
    		<td><input type="password" name="newpassword2" id="newpassword2" size="18" value="" maxlength="16" onchange="CheckStrength()">
			</td>
			</tr>
            <table align="center" width="400" border="0" cellpadding="0" cellspacing="0">
            <tr><td style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:14px;">更改密码说明:</tr>
            <tr><td style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">1、密码长度必须大于8位</tr>
            <tr><td style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">2、密码长度大于12位即可</tr>
            <tr><td style="font-family:Verdana, Arial, Helvetica, sans-serif;font-size:12px;">3、或者含有数字、小写、大写、特殊中的三者</tr>
            </table>
			<tr>
			<td width="10" height="10" ></td>
			</tr>
			<td width="30" height="10" ></td>
			<td width="30" height="10" ></td>
			<td><input name="subbtn" type="submit" name="submit" id="submit" value="确定" disabled></td>
		    </form>
		</table>
	</table>
    </table>
</body>
<script type="text/javascript">
    function Test(val) {
        var modes = 0;
        if (val.length < 8) return 0;
        if (/\d/.test(val)) modes++; //数字
        if (/[a-z]/.test(val)) modes++; //小写
        if (/[A-Z]/.test(val)) modes++; //大写
        if (/\W/.test(val)) modes++; //特殊字符
        if (val.length > 12) return 4;
        return modes;
    }
    function CheckStrength(){
        pwd1=document.getElementById("newpassword1");
        pwd2=document.getElementById("newpassword2");
        usr=document.getElementById("username");
        sub=document.getElementById("submit");
        if(Test(pwd1.value)>2 &&Test(pwd1.value)>2) {
           sub.disabled = false;
        }
    }
</script>
</html>
